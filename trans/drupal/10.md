# 第十章，运行您的网站

到目前为止，新网站的绝大多数开发工作已经完成！您还应该相信，从开发的角度来看，您可以响应网站向您提出的任何要求，并以高度熟练的方式与 Drupal 合作。然而，就像计算机世界中的所有事物一样，构建某些东西然后让你的创造物自己运行永远是不够的。总是有工作要做，以确保一切顺利运行。

通常，您会发现有些工作需要时不时地执行，这些工作与 Drupal 没有特别的关系，但通常都是与网站相关的。这些任务在性质上可能会有很大的不同，但这里讨论的所有这些任务在网站生命周期的某个阶段都会很有用，即使你现在不需要它们。

呈现这样一章的问题之一是，我们不可能希望涵盖 Drupal 可以运行的大量不同平台的每一个细微差别。互联网服务提供商（ISP）提供各种各样的软件包，这些软件包要么完全没有任何有用的功能，要么装满了所有最新的小工具。大多数 ISP 在一个屋顶下提供各种各样的软件包。

因此，我们将研究常用的功能，如果您无法访问相同的软件，这些功能将清楚地演示您需要执行的任务，以便您仍然可以使用您*确实有权访问*的软件成功操作。例如，通过使用 Apache2Triad 包，我们已经有了一些可以在开发机器上使用的有用技术，比如 phpMyAdmin。

### 注

在选择托管软件包（假设您还没有）之前，通读本章可能会有所帮助，这样您就可以了解将来需要的功能类型。

Drupal 还固有一些其他与 web 相关的活动，我们应该花时间快速查看。因此，本章将讨论：

*   备份
*   Cron 和计划任务
*   节流
*   修补
*   网站活动，包括搜索引擎优化和用户维护

有了最后一章中介绍的信息，您将成为一名装备齐全的 Drupal 网站管理员。然而，你从运行一个实时网站中获得的经验本身应该比这本简陋的书更有价值。希望你会发现整个经历都是非常有益的，并在将来与社区其他人分享你来之不易的知识。

我们在回家的路上，所以让我们继续吧。

# 备份

备份文件系统和数据库有很多原因。正如本书中多次提到的，无论何时修改代码、添加新模块，甚至升级 Drupal 版本，您都应该备份任何有损坏风险的内容。这样做听起来真的很痛苦，因为在绝大多数情况下，应用程序没有任何问题。然而，迟早，由于某种深不可测的原因，如果你不做备份，你*会*在最痛苦的地方被刺伤。

最特别的是，损坏或破坏数据库，进而导致宝贵数据的丢失，可能是应用程序后端的一大难题！因此，尽管通过简单地复制相关目录或复制整个 `drupal`文件夹（无论您如何命名）来备份文件系统上的文件相当容易，但您也必须学会如何备份数据库，因为这并不是一件小事，实践后会变得很容易，虽然

在继续之前，重要的是要有一个备份文件、文件夹和数据的*策略*。最好定期备份整个站点，并更频繁地备份数据库。应该清楚地标记这些备份，以便您知道它们是何时制作的，以便在发生某种灾难时轻松确定使用哪种备份。您还可以考虑将这些备份远离主文件系统，也许在 CD 上，这样如果发生了一些不好的事情，您就不必依赖于主机的灾难恢复策略；你有你自己的。

有两种方法备份数据库（或它的任何部分），我们将在这里考虑。一种方法是使用 phpMyAdmin，它是 Apache2Triad 包的一部分。让我们从这个开始。

## phpMyAdmin

phpMyAdmin 是一个非常流行和常见的工具，用于通过 Web 与 MySQL 交互。phpMyAdmin 不必学习如何使用 MySQL 命令行客户机，而是为我们提供了一个图形界面，这使得查看和维护数据库表和内容变得更加容易。对于许多最常见的与数据相关的任务，通过该接口发出命令也变得更加容易。

可以按照以下步骤使用 phpMyAdmin 创建备份：

1.  登录 phpMyAdmin 并选择相关的 Drupal 数据库。
2.  Click on the **Export** tab along the top of the page, and set up the options as shown here:

    ![phpMyAdmin](graphics/1800_10_01.jpg)

    *   在屏幕截图中，选择了所有表进行备份，选择了所有结构复选框以防止我们不得不手动删除损坏的数据库，以及一个有用的名称（生成备份文件后自动包含数据库名称）提供了如图所示的附加日期，这是一个好主意，因为它将帮助您跟踪哪个备份是哪个备份。
3.  一旦您对选项感到满意，单击**Go**，然后将创建一个 SQL 文件（尽管还有其他格式可供选择，如 LaTeX 或 XML），您可以根据需要从中重新创建数据库。

一旦有了备份文件，只需让 MySQL 运行其内容即可重新创建数据库。要执行此操作，请单击页面顶部的**SQL**选项卡，然后输入要针对数据库运行的 `.sql`文件的名称，如下所示：

![phpMyAdmin](graphics/1800_10_02.jpg)

这让生活变得相当简单，但这不是唯一的方法。如果您已经习惯使用命令行，或者只是更喜欢它，那么在我们发出命令加载原始数据库时，我们已经看到了它是如何完成的：

```
C:\ mysql -udrupal -p drupal < C:/apache2triad/htdocs/drupal-4.6.4/ database/database.mysql

```

您只需修改路径和文件名以反映新备份文件的细节，如：

```
C:\ mysql -uroot -p drupal < C:/backups/drupal_13_04_06.sql

```

另一种创建备份的方法是从命令行使用 `mysqldump`实用程序。

## mysqldump 实用程序

可能值得花一些时间使用它，因为它提供了更大的灵活性，如果您需要执行任何异常的操作。不过，我要承认，对于大多数与数据库相关的任务，phpMyAdmin 的性能都会令人钦佩。如果您无法访问托管站点上的 phpMyAdmin，或者如果您渴望了解 `mysqldump`，请务必继续……

要创建备份，只需在命令行中键入以下内容：

```
C:\ mysqldump drupal > drupal_13_04_06.sql

```

这将在当前目录中创建名为 `drupal_06_11_05.sql`的备份文件。然后，您可以通过查看文件的内容来确保这一点，该文件将包含大量的 SQL 语句。有很多不同的选项可用于获取各种不同类型的备份文件；您只需键入：

```
C:\ mysqldump help

```

以获取可用内容的列表。 `mysqldump`是一个功能强大且灵活的工具，如果您打算尝试一些更高级的备份选项，了解它的工作原理将从长远角度为您带来好处。

重申一下，定期备份数据库是一种良好的做法，无论您是否需要进行升级，因为这样做可以在某种灾难破坏数据库或丢失其信息的情况下保护您免受数据的完全丢失。

# Cron 和计划任务

为了保持网站的平稳运行并保持最新，需要定期执行各种各样的杂务。例如，我们在书的前面看到，聚合器模块需要定期运行，以便它可以更新所有提要等等。Drupal 开发人员非常清楚需要处理的所有任务；因此，他们将所有内容打包到一个方便的脚本 cron.php 中。

您需要设置**crontab**或**调度任务**来执行 `cron.php`脚本，该脚本位于 Drupal 安装的主文件夹中，以便它可以执行所有必要的任务。cron 脚本基本上搜索整个站点，并执行应用于模块或其他事情（如日志处理）的任何任务，以便它们都保持更新。

让我们来看看如何控制 CROTAB，然后为我们的 Windows 用户设置一个预定的任务。

## 克朗塔布

如果您不是特别想了解如何在托管站点上使用 crontab，那么可以在本章稍后的部分跳到标题为*Poormanscron*的部分。建议您无论如何都要学习如何使用 crontab，因为当您的 Drupal 站点无法立即使用时，它无疑会派上用场。

crontab 中设置的所有变量都是数值常量，但星号字符除外，星号字符是允许任何值的通配符。每个字段允许的范围如下：

*   分钟：0-59
*   时间：0-23
*   月日：1-31
*   月份：1-12
*   工作日：0-7（周日为 0 或 7）

只需用逗号分隔每个值，就可以为每个条目包含多个值。您希望发出的命令可以是任何 shell 命令，并可用于执行网页，如 `cronfeed.php`文件。许多托管公司都有一个界面，比如下面的界面，可以让您轻松地使用 crontab:

![The Crontab](graphics/1800_10_03.jpg)

在最后一个条目中，您可以看到（希望）使用以下命令将 `cron.php`脚本设置为每天午夜运行：

```
/usr/bin/lynx source http://www.cwc.com/cron.php

```

然而，例如，第一个任务被设置为每小时运行一次（记住用您自己站点的 URL 替换前面代码片段中突出显示的代码）。还要注意的是， `php`命令没有像其他两个脚本那样用于执行 cron 脚本，这是因为 `cron.php`文件需要作为网页访问，以便正确设置某些环境变量。

### 提示

将 cron 作业设置为定期运行，以确保站点尽可能保持最新！建议每天运行几次 `cron.php`。

## Windows 计划任务

如果您正在使用基于 Windows 的服务器，或者只是希望在开发过程中在 Windows PC 上启用计划任务，您可以使用**计划任务**向导。以下来自 Drupal 站点的说明准确地解释了这是如何做到的：

1.  进入**启动|程序|附件|系统工具|预定任务**。
2.  双击**添加计划任务**。
3.  此时会出现**计划任务**向导。点击**下一步**。
4.  选择要运行的程序。从列表中选择您的**浏览器**（例如，Internet Explorer 或 Firefox）。点击**下一步**。
5.  为任务指定一个**名称**，例如**Drupal Cron 作业**，并选择执行任务的**频率**（例如**每日】**。点击**下一步**。
6.  选择具体的**日期和时间选项**（此步骤会有所不同，取决于上一步中选择的选项）。完成后，点击**下一步**。
7.  如果出现提示，请输入您的**密码**。如果需要，请更改**用户名**（例如，出于安全原因，如果您希望任务在没有权限的用户下运行）。点击**下一步**。
8.  在最后一页，当我点击 Finish 并点击**Finish**时，选中复选框**打开此任务的高级属性。**
9.  通过选中最后一步末尾的复选框或双击任务，转到任务的设置页面。
10.  在**运行**框中，在文本（例如，**C:\PROGRA~1\MOZILL~1\firefox.exe）**之后，输入一个空格，然后用双引号键入网站 `cron.php`页面的地址（例如，**C:\PROGRA~1\MOZILL~1\**firefox.exe**http://localhost/drupal/cron.php")**
11.  要设置高于**日**（例如**小时**的频率，请单击**日程**选项卡，然后单击**高级**。在这里您可以设置**重复**任务等选项，每**1 小时**一次，持续**23 小时**。完成后点击**确定**。
12.  将任务上的**开始时间**从当前时间改为**一分钟。这将允许您测试任务并确保其正常工作。**
13.  当所有设置都配置好后，点击**应用**和**确定**（注意可能会提示您输入密码）。

如果您发现无法设置 cron 作业以在主机站点上运行，那么您可以使用巧妙的技巧，将 Windows 计划任务设置为直接从家用 PC 访问 `cron.php`脚本，而不是使用刚才列出的说明。这意味着，根据您的设置，只要您的电脑处于联机状态并且能够访问网页，就会执行 cron 脚本。

最后一点强调了 Drupal 在定期执行必要任务时是多么容易。所需的只是某种浏览器应用程序来访问 `cron.php`脚本，需要 Drupal 站点运行的任何任务都将运行。您可以从自己的浏览器访问此脚本，或将自己的 PC 设置为在启动时执行此脚本，或其他任何操作。

## 普尔曼斯克伦

毫不奇怪，有一种贡献可以让生活变得更加轻松。**Poormanscron**是一个有贡献的模块，不需要完全设置 crontab 或计划任务。

它通过检查 cron 脚本是否在每次浏览网页时的最后一个时间单位（无论您将其设置为什么；默认情况下为每小时）内运行来工作。如果发现有 cron 运行到期，它将导致在服务页面后发生这种情况（这样用户就不必等待任务完成后再查看页面）。

基本上，Poormanscron 意味着您不必学习任何有关 cron jobs 的知识。这是一把方便的双刃剑！很可能您需要在其他任务中使用 cron 作业，如果您在 Drupal 中使用 Poormanscron，那么您所要做的就是推迟您必须坐下来学习如何使用 crontab 或计划任务的时间。无论如何，您已经看到了如何使用所有选项的示例；所以剩下的就是让我们看看如何与普尔曼合作：

1.  从 Drupal 网站下载 Poormanscron 模块。
2.  将文件解压缩到您的 `modules`文件夹中。
3.  启用**管理**下的**模块**部分中的模块。

只要你的站点能够正常使用，你的 cron 任务就能顺利运行，你不必担心手动访问 `cron.php`脚本或设置 crontab。

然而，一段时间后，您可能会对一直看到记录的 cron 消息感到有点厌倦。如果您想管理 Poormanscron 模块，请转到管理区域的**设置**下的**Poormanscron**，打开以下页面：

![Poormanscron](graphics/1800_10_04.jpg)

从中可以看出，有许多选项可用于控制 cron 作业的运行频率、出错后重试前的等待时间以及日志记录策略。在这种情况下，日志记录被禁用，因为没有任何东西迫切需要在演示站点上进行手动验证（目前）。如果你添加了新的软件，并且必须确认它是由 Type T0EX 脚本正确执行的，那么你可能会考虑切换回日志。

# 节流

每隔一段时间就会有人制作一个非常受欢迎的网站。有大量的人访问一个站点会给服务器的资源带来严重的压力，并随着拥塞的加剧而导致各种各样的问题。即使一个网站不是非常受欢迎，它也有可能受到来自某处的**拒绝服务**攻击。

在考虑在站点上设置节流机制之前，了解哪些资源可供您使用是很重要的：

### 注

如果您已经确保有适当的设施来处理*大量流量*，则油门模块实际上是冗余的。

如果您不确定站点上有哪些可用资源，请咨询托管服务，了解他们为您提供了哪些资源。

假设您预期需要某种拥塞控制，那么处理流量或带宽使用激增的一个好方法是启用 Drupal 附带的节流机制，即前面提到的节流模块。通过在管理工具的**模块**部分启用它，这是很容易实现的。完成后，您可以通过导航到“管理”区域的“设置”下的**节流**页面来配置模块在站点上的一般操作方式。这将出现以下页面：

![Throttling](graphics/1800_10_05.jpg)

本页从有多少人在使用该站点的角度来处理拥塞问题。在这种情况下，如果有**300**或更多的匿名用户在线，Drupal 将被指示在匿名用户上启用自动油门；如果有超过**100**的经过身份验证的用户在线，Drupal 将被指示在匿名用户上启用自动油门。最后一个选项涉及实际限制油门机构必须执行的工作量，以使其本身不会成为资源占用者。

*但如果您知道这是一个消耗了超过其公平份额的资源的特定模块，该怎么办？*在这种情况下，您只需在管理工具的**模块**部分中为该特定模块启用自动油门，如下所示：

![Throttling](graphics/1800_10_06.jpg)

通过导航到**块**部分并执行相同的操作，也可以逐块执行此操作。*但节流块最终意味着什么？*基本上，如果您的服务器处于紧张状态，并且您已经设置了一个自动节流的块，它将被禁用，并且不会增加服务器上的负载。

您可以查看您的日志消息，以确定油门模块在任何给定时间的活动。例如，我将油门机构设置为在只有一个用户访问该站点后接合。随后创建了以下日志消息：

![Throttling](graphics/1800_10_07.jpg)

虽然不多，但至少在油门打开时它能清楚地显示出来。一旦负载充分下降，将发送一条相应的消息，说明油门可以断开，一切可以恢复正常。

虽然下一点与节流没有直接关系，但重要的是您要了解站点的性能以及如何确保其良好。请看[http://drupal.org/node/2601](http://drupal.org/node/2601) 了解如何：

*   分析站点的性能
*   通过使用 `robot.txt`文件阻止各种网络爬虫访问站点的某些部分，减少服务器上的负载
*   了解 Apache 性能以及 PHP 和 MySQL 调优

您现在获得的任何知识都可以提前得到很好的利用，以防止性能不佳，这可能会阻碍用户在将来使用，即使您不太可能在早期就注意到任何与性能相关的问题。

# 修补

有时，很明显 Drupal 的某个模块或其他方面存在缺陷。这是一个特别值得关注的问题，每当软件有一个重大的大修，每个人都在疯狂地工作，以跟上，因为 Drupal 只是刚刚移动到新的 4.7 版本在撰写本文时，这是更相关的，现在比任何其他时间。当这种情况发生时，人们总是去论坛看看是否有其他人也有同样的问题。通常，就像一个 bug 一样，其他人也遇到了同样的问题，可能是有人已经解决了这个问题。

如果某个善良的灵魂已经解决了他们机器上的问题，那么他们很可能会向论坛提交一个**补丁**文件，以便其他人可以使用它来修复他们的代码。在这一点上，认识到以下几点很重要：

*   如果您不想遇到任何问题，请确保只下载经过良好测试且稳定的软件供您的站点使用。通常，模块的 CVS 版本仍然包含 bug 或错误，因此最好等到模块*发布并针对特定版本的 Drupal*进行测试。
*   修补程序文件不是特定于 Drupal 的。它们只是解释代码行列表的文件，这些代码行的添加或删除方式应确保**补丁实用程序**可以在不需要人工干预的情况下实现这些更改。
*   修补程序实用程序不是 Windows 机器的本机程序，它们与基于 Unix 的操作系统（如 Linux）一起提供。

如果 Linux 用户发现需要实现补丁实用程序，他们需要花一些时间来学习如何使用它。Windows 用户需要更进一步，首先下载补丁实用程序。幸运的是，[上提供了常见 Unix 实用程序的下载 http://unxutils.sourceforge.net/](http://unxutils.sourceforge.net/) 。其中包括补丁实用程序，您需要将内容解压缩到一个文件夹中， `patch.exe`文件将位于您将文件解压缩到的目录中的 `usr\local\wbin`文件夹中。

`patch.exe`文件现在可以像任何其他命令行实用程序一样使用。我们已经多次使用了 `mysql`命令实用程序，因此您对此有一定的经验。使用修补程序时的一般语法如下所示：

```
C:\ patch [options] [originalfile [patchfile]]

```

在这种情况下， `originalfile`是应该应用更改的文件， `patchfile`显然是包含要实现的更改的补丁文件。您可以查看许多选项，因此在使用修补程序之前，请查看修补程序的手册页。您可以在[找到一个 http://www.hmug.org/man/1/patch.php](http://www.hmug.org/man/1/patch.php) 。典型的命令可能如下所示（当然，如果不在一个目录中工作，则需要确保输入文件的正确文件路径）：

```
C:\patch buggy_code.php buggy_code.patch

```

现在有一个重要的路径相关问题需要在这里解决。如果您想从命令行的任何位置使用 `patch`，您需要将其文件路径添加到**path**系统变量中，否则，您必须在每次使用 `patch`之前导航到命令行上的 `usr\local\wbin`文件夹（您也可以将 `patch.exe`添加到**路径中已有的文件夹中）**，但最好将所有内容分开）。

为此：

1.  打开**控制面板**点击**系统**。
2.  点击**高级**选项卡，点击**环境变量**
3.  Add the path to the `patch.exe` file into the **Path** environment variable in the **System variables** section as shown here:

    ![Patching](graphics/1800_10_08.jpg)

4.  完成后，单击**确定**。

请注意，**path**环境变量中设置的每个路径都用分号分隔。您必须确保除了添加单一路径之外，不会更改任何内容；否则，您可能会破坏其他重要应用程序。

完成后，您现在可以从命令行的任何位置访问修补程序实用程序。现在重要的问题是是否使用补丁文件。*您如何知道是否需要贴片？*这个问题的答案实际上在于搜索 Drupal，以找到您可能遇到的任何给定问题的答案。该模块的下载页面上通常会提交补丁，因此，请确保您通过该页面进行搜索，并通过论坛查看更多信息。

最后，补丁可用并不一定意味着它可以解决问题。通常，您会发现修补程序本身会产生其他问题。例如，查看 FlexNode 模块的问题页面显示以下内容：

![Patching](graphics/1800_10_09.jpg)

在撰写本文时，有几个补丁可用于几种不同的东西。根据您需要完成的工作，您将：

1.  查找相关的修补程序文件。
2.  下载到你的机器上。
3.  使用补丁实用程序实现补丁。
4.  尝试使用更新的代码。

确保它实际上是您正在下载的修补程序文件，而不是作为替换文件的整个文件。补丁文件通常不会以 `.patch`扩展名结尾。如前所述，避免问题的最佳方法是只使用已被证明是可靠的代码，否则，您很可能需要练习实现补丁！

# 网站活动

一旦你开发了你的网站并在实时服务器上运行，你会发现你的 ISP 可能会提供相当多的玩具供你玩。其中一些对初出茅庐的网站管理员非常有用。*但既然整个场地都建成了，我们还需要什么呢？*

还有很多不同的任务摆在你面前。例如，你确定有恶意的人不能热链接到你的网站并减少你的带宽吗？*什么是热链接？什么是带宽？*这些问题只是开发完成后必须关注的问题类型的一小部分。我必须承认，虽然这本书的主题是*建立一个站点*，但这项任务只是硬币的一面！

对于演示站点，以下管理面板由托管服务提供商提供：

![Website Activities](graphics/1800_10_10.jpg)

很明显，这里有很多玩具可以玩，建议你花些时间找出什么可以使用以及如何使用。知道你有什么是非常重要的，因为这意味着你能够更好地规划你的工作方式。例如，演示网站的主机提供了一个自动的**搜索引擎提交**功能，可以将新网站提交给*所有主要搜索引擎编制索引，这比简单地等待网站开始出现在它们上面要好得多。*

这里需要注意的另一件重要事情是，大多数托管服务都会为您的网站提供完整的统计数据。比如人们来自哪里，有多少人访问了网站，哪些页面正在被访问，等等。Drupal 附带了几乎相同的模块，所以检查一下站点的原生统计是否足够，或者是否需要考虑安装一个新的模块，比如 AutoT0T.GractStAT、跟踪器、看门狗 OLT T1、或者 PoT T2 记录器 ALE T3 模块。

由于托管站点上可能有一组完全不同的选项可用，因此我们在此不再进一步讨论，但仍有一些其他事项值得注意。让我们从一个最常见的请求开始：**搜索引擎优化**或**搜索引擎优化**。

## 搜索引擎优化

一个网站最常见的目标之一就是在大型搜索引擎排名中排名靠前。你应该知道，拥有一个好的排名会增加潜在用户在众多其他网站中找到你的网站的机会。*那么，你能做些什么来让你的网站排名尽可能高，而不必付钱给任何人来帮你？*

不幸的是，这个问题没有直接的答案，很多人会给你同样多的不同答案。然而，有一组核心任务可以帮助你完成，它们的重要性可能会有所不同，但可能值得全部完成。下表突出了最重要的优化或任务，您应该考虑（可能的情况下）：

<colgroup><col style="text-align: left"> <col style="text-align: left"></colgroup> 
| 

优化

 | 

解释

 |
| --- | --- |
| 编写 web 增强副本 | 重要提示：想想你的目标用户会如何找到你的网站。*他们会用什么样的词来找到像你这样的网站？*一旦你列出了一系列关键词和短语，确保你网站上的文章尽可能使用这些短语。如果你使用的是谷歌广告词，那么你可以自己检查各种搜索词的流行程度，只需将它们作为潜在的目标关键词提出，并检查它们的统计数据，这是谷歌在添加它们之前提供的。例如，如果你有一个处理移动设备的网站，你想让短语**蜂窝电话**成为一个你排名很高的术语，那么就不要写这样的东西：**此设备可用于呼叫其他人**，您应该写：**这款 G1 超级手机，无论您身在何处**都可以拨打任何其他手机。诚然，你无法控制其他人的评论和页面的内容，但这仍然适用于你编写的任何和所有标准页面，如*简介*页面、*关于我们*或*常见问题*，甚至你自己的个人博客。 |
| 使用有意义的文件名 | 虽然这一点没有第一点那么重要，但它肯定会有助于对所有内容进行有意义的命名，因为搜索引擎确实会查看文件名。不要将页面命名为 `19`，而应该将其命名为 `awesome_webpage.html`。不要过火，因为这不太重要。如果您对重命名文件感兴趣，请查看提供帮助的模块，例如**节点（关键字）**应该可以做到这一点。 |
| 使用有意义的锚文本 | 重要提示：搜索引擎，特别是谷歌，大量强调链接中使用的锚文本。因此，请确保所有链接都有与之关联的有意义的文本。例如，您可以重写以下句子：`Donate to the Wildlife community <a href ="<yourlink>">here</a>`。致：`Donate to the <a href ="<yourlink>">Wildlife community</a> here`。原因是这里的**一词**对搜索引擎来说并不是特别有意义，尽管人类可以很容易地建立连接。为了你的排名，只需将链接移动到关键词**野生动物社区**，就可以在搜索引擎中更加强调它。 |
| 编写有意义的元标记 | 很多人都会告诉你，随着时间的推移，元标记已经变得越来越不重要了。但是，它们仍然有用，您至少应该努力正确地填写它们。你应该考虑使用的两个元标记是：例如，下面显示了一个可能的标记：`<meta name="keywords" content="CWC wildlife conservation biosphere">`MetaTag 已经成为一些滥用的主题，您应该查看 W3C 联盟的使用指南： `http://www.w3.org`。为了进行这些更改，您必须使用您的主题（很可能是 `page.tpl`文件），或者任何与其等价的文件！ |
| 管理您的链接 | 重要提示：网站的知名度是非常重要的。搜索引擎可以通过查看网站的链接数量以及链接到该网站的网站本身的受欢迎程度来判断网站的受欢迎程度。因此，您应该确保只链接到您认为合适的合作伙伴的站点。实际上，您应该搜索尽可能多的相关链接页面，或者实际与相关网站交谈，以确定是否可以提供相互链接。你从流行网站获得的链接越多，你的排名就会越好。你也可以尝试获得指向你网站的单向链接，这些链接也被搜索引擎评价很高。 |
| 为图像编写有意义的 `alt`标记 | 搜索引擎看不到像人类一样的图片，所以你对图片无能为力……*或者是真的吗？不要把你的图片命名为“T0”，你可以考虑把它们命名为“Ty1 T1”。也不要就此止步。不要像这样添加图像：*`<img src="cruel_hunter.jpg">`这样写：`<img src="cruel_hunter.jpg" alt="Hunter making his kill ">` |
| 将您的网站提交给搜索引擎和在线目录 | 确保尽可能列出您的站点。大多数托管软件包都提供了一个自动化的 SE 提交工具，它会自动将您的站点转发给搜索引擎进行索引。否则，请寻找其他 SE 网页提交工具，或搜索您自己的列表和目录以成为其中的一部分。 |
| 阅读列表、论坛和在线教程 | 有很多有用的信息。确保你做你自己的研究，并提出一个搜索引擎优化政策，是适合你的。 |

你会发现，如果你准备投入时间开发你的链接并不断升级你的网站，你最终会从中获益。然而，不要期望所有事情都会在一夜之间发生——获得人气可能是一个乏味的过程！

## 维护用户

很有可能，当一些人注册时完全是为了经常使用你的网站，他们会继续注册，他们的帐户仍然挂在那里，而实际上什么也不做。在早期添加**用户维护**模块，以跟踪用户的活跃程度和活跃程度，这样您就可以删除那些不符合特定标准的用户。

继续并从站点下载模块。需要做一些准备工作：

1.  将文件解压缩到您的 `modules`文件夹中。
2.  使用以下命令对数据库运行 `.sql`脚本（记住要有可用的备份）：

    ```
    C:\ mysql udrupal p drupal <
    C:\apache2triad\htdocs\drupal\modules\user_maintenance\user_maintenance.sql

    ```

    *   如果需要，请确保将突出显示的文件路径替换为反映设置的文件路径。
3.  启用**管理**下的**模块**部分中的模块。

要使用该模块，请在模块启用后转到**管理**下的**设置**部分。在菜单的下拉列表中，您会注意到现在有一个新的**用户维护**菜单项可用。单击该按钮可打开以下页面：

![Maintaining Users](graphics/1800_10_11.jpg)

如您所见，现在很容易选择您准备在站点上保留活动帐户的时间，尽管用户在注册后尚未登录。尽快启动并运行这一贡献是明智的，因为它不能追溯到过去。换句话说，如果你在收集了三年的浪费账户后遇到了这个问题，那么这篇文章就不能告诉你应该删除哪些账户；它仅适用于启用时创建的帐户。

# 总结

本章总结了前几章所描绘的画面，介绍了您必须承担的一些与网站相关的最重要的琐事。知道如何在点击一个按钮时进行备份，或者能够知道谁在使用您的站点用于什么目的以及何时使用，这使您能够高效地维护和管理您的站点，而无需太多麻烦。

本章结束后，我们就到了书的结尾。对于现在需要将新站点上载到 live 域的用户，附录中包含有关部署的进一步说明。

祝贺你完成这本书，并祝你在未来的网络努力中一切顺利。请记住花点时间回馈 Drupal 社区，以便它能够继续繁荣并帮助他人。